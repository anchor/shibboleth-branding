!function(e){function t(r){if(n[r])return n[r].exports;var s=n[r]={exports:{},id:r,loaded:!1};return e[r].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";var r=window.React,s=n(16),i=n(8),o=n(1),a=n(3),l=o.mkViewFactory(n(22));window.main=function(){i.subscribe(function(e){s.checkState(e)}),r.render(l(),document.getElementById("app"));var e=i.getState();e.userName&&e.password&&a.logIn(e.userName,e.password)}},function(e,t,n){"use strict";var r=window.React,s=n(13),i=n(14);e.exports={propTypes:r.PropTypes,assign:s,mkViewFactory:function(e){return function(t){for(var n="string"!=typeof t?t:{className:t},s=[e,n],i=1;i<arguments.length;i+=1)s.push(arguments[i]);return r.createElement.apply(null,s)}},mkViewClass:function(e,t){return t.displayName=e,t.mixins=[r.addons.PureRenderMixin].concat(t.mixins),r.createClass(t)},parseDate:function(e){return e&&new Date(e.split(" ").join("T"))},formatDate:function(e){return e?e.toLocaleString()+" ("+i(e)+")":"—"},formatStatus:function(e){return e?e.toLowerCase():"—"},storeJson:function(e,t){t?localStorage.setItem(e,JSON.stringify(t)):localStorage.removeItem(e)},loadJson:function(e){var t=localStorage.getItem(e);return t&&JSON.parse(t)}}},function(e,t,n){"use strict";var r=n(1),s=r.mkViewFactory("code"),i=r.mkViewFactory("div"),o=r.mkViewFactory("i"),a=r.mkViewFactory("p"),l=r.mkViewFactory("pre");e.exports=r.mkViewClass("ErrorMsg",{propTypes:function(){return{title:r.propTypes.string.isRequired,msg:r.propTypes.string,isAuto:r.propTypes.bool,error:r.propTypes.object,onClose:r.propTypes.func}},render:function(){return i("ui negative message"+(this.props.isAuto?"":" bottom attached"),this.props.onClose?o({className:"close icon",onClick:this.props.onClose}):null,i("header",this.props.title+status),a({},this.props.msg?this.props.msg:this.props.isAuto?"To try again, please close this message, or reload the page.":"Please reload the page and try again."),this.props.error?l({},s({},JSON.stringify(this.props.error,null,2))):null)}})},function(e,t,n){"use strict";function r(e,t){i.dispatch(o.assign({type:e},t))}var s=n(6),i=n(7),o=n(1);e.exports={changeUserName:function(e){r("userNameChanged",{userName:e})},changePassword:function(e){r("passwordChanged",{password:e})},logIn:function(e,t){r("logInAttempted"),s.getAccess(e,t,function(e,t){t?r("logInFailed",{error:t}):r("logInSucceeded")})},hideLogInError:function(){r("logInErrorHidden")},logOut:function(){r("loggedOut")},requestFleetList:function(){r("fleetListRequested"),s.getFleetList(function(e,t){t?r("fleetListDenied",{error:t}):r("fleetListReceived",{fleetList:e})})},hideFleetListError:function(){r("fleetListErrorHidden")},selectFleet:function(e){r("fleetSelected",{selectedFleetName:e})},changeRelQuery:function(e){r("relQueryChanged",{relQuery:e})}}},function(e,t,n){"use strict";function r(e,t,n,r){i.dispatch(o.assign({type:e,fleetName:t,envName:n},r))}var s=n(6),i=n(7),o=n(1),a=e.exports={requestData:function(e,t,n){r("dataRequested",t,n),s.getResource(e,"environments/"+n,function(e,s){s?r("dataDenied",t,n,{error:s}):r("dataReceived",t,n,{data:e})})},hideDataError:function(e,t){r("dataErrorHidden",e,t)},openDestroyForm:function(e,t){r("destroyFormOpened",e,t)},closeDestroyForm:function(e,t){r("destroyFormClosed",e,t)},changeConfirmName:function(e,t,n){r("confirmNameChanged",e,t,{confirmName:n})},destroy:function(e,t,n){r("destroyAttempted",t,n),s.deleteResource(e,"environments/"+n,function(e,s){s?r("destroyFailed",t,n,{error:s}):(a.closeDestroyForm(t,n),r("destroySucceeded",t,n))})},hideDestroyError:function(e,t){r("destroyErrorHidden",e,t)},openLoadRelForm:function(e,t){r("loadRelFormOpened",e,t)},closeLoadRelForm:function(e,t){r("loadRelFormClosed",e,t)},changeNewRelName:function(e,t,n){r("newRelNameChanged",e,t,{newRelName:n})},loadRel:function(e,t,n,i,o){r("loadRelAttempted",t,n),s.putResource(e,"environments/"+n,{releases:[o].concat(i)},function(e,s){s?r("loadRelFailed",t,n,{error:s}):(a.closeLoadRelForm(t,n),r("loadRelSucceeded",t,n))})},hideLoadRelError:function(e,t){r("loadRelErrorHidden",e,t)},selectRel:function(e,t,n){r("relSelected",e,t,{selectedRelName:n})}}},function(e,t,n){"use strict";function r(e,t,n){i.dispatch(o.assign({type:e,fleetName:t},n))}var s=n(6),i=n(7),o=n(1),a=e.exports={requestToken:function(e){r("tokenRequested",e),s.getToken(e,function(t,n){n?r("tokenDenied",e,{error:n}):r("tokenReceived",e,{token:t})})},hideTokenError:function(e){r("tokenErrorHidden",e)},requestEnvList:function(e,t){r("envListRequested",t),s.getResource(e,"environments",function(e,n){n?r("envListDenied",t,{error:n}):r("envListReceived",t,{envList:e})})},hideEnvListError:function(e){r("envListErrorHidden",e)},requestRelList:function(e,t){r("relListRequested",t),s.getResource(e,"releases",function(e,n){n?r("relListDenied",t,{error:n}):r("relListReceived",t,{relList:e})})},hideRelListError:function(e){r("relListErrorHidden",e)},openCreateEnvForm:function(e){r("createEnvFormOpened",e)},closeCreateEnvForm:function(e){r("createEnvFormClosed",e)},changeNewEnvName:function(e,t){r("newEnvNameChanged",e,{newEnvName:t})},createEnv:function(e,t,n){r("creatingEnvAttempted",t),s.postResource(e,"environment",{name:n},function(e,n){n?r("creatingEnvFailed",t,{error:n}):(a.closeCreateEnvForm(t),r("creatingEnvSucceeded",t))})},hideCreateEnvError:function(e){r("createEnvErrorHidden",e)},selectEnv:function(e,t){r("envSelected",e,{selectedEnvName:t})}}},function(e,t,n){"use strict";var r=n(21),s=e.exports={mkAuthHost:function(){return"http://46.101.58.192:5000"},mkHost:function(){return"http://46.101.58.192:5000"},mkAuthUrl:function(){return s.mkAuthHost()+"/v0.0.1/tokens"},mkUrl:function(e){return s.mkHost()+"/v0.1.0/"+e},getAccess:function(e,t,n){setTimeout(function(){"test"===e&&"password"===t?n():n(null,{type:"clientError",status:403})},1e3)},getFleetList:function(e){return r.getResource(s.mkAuthUrl(),function(t,n){return n?e(null,n):e(Object.keys(t||{}))})},getToken:function(e,t){return r.getResource(s.mkAuthUrl(),function(n,r){return r?t(null,r):t(n[e].token)})},getResource:function(e,t,n){return r.getResource(s.mkUrl(t),n,r.addAuthHeader({},e))},postResource:function(e,t,n,i){return r.postResource(s.mkUrl(t),n,i,r.addAuthHeader({},e))},deleteResource:function(e,t,n){return r.deleteResource(s.mkUrl(t),n,r.addAuthHeader({},e))},putResource:function(e,t,n,i){return r.putResource(s.mkUrl(t),n,i,r.addAuthHeader({},e))}}},function(e,t,n){"use strict";var r=n(10).Dispatcher,s=n(8),i=new r;i.register(function(e){var t=s.getContext(e),n=s.getHandler(e),r=n(t,e);r&&(s.setContext(e,r),s.publish())}),e.exports={dispatch:function(e){console.log(e.type,e),i.dispatch(e)}}},function(e,t,n){"use strict";var r=n(1),s=n(17),i=n(19),o=n(18),a=n(20),l=[],u={userName:"test",password:"password"},d=e.exports={subscribe:function(e){l.push(e)},unsubscribe:function(e){l.splice(l.indexOf(e),1)},publish:function(){setTimeout(function(){l.forEach(function(e){e(u)})},0)},getHandler:function(e){var t="handle_"+e.type;return e.fleetName?e.envName?e.relName?a[t]:o[t]:i[t]:s[t]},getState:function(){return u},getFleetContext:function(e){return u.fleets&&u.fleets[e]||{name:e}},getEnvContext:function(e,t){var n=d.getFleetContext(e);return n.envs&&n.envs[t]||{name:t}},getRelContext:function(e,t,n){var r=d.getEnvContext(e,t);return r.rels&&r.rels[n]||{name:n}},getContext:function(e){return e.fleetName?e.envName?e.relName?d.getRelContext(e.fleetName,e.envName,e.relName):d.getEnvContext(e.fleetName,e.envName):d.getFleetContext(e.fleetName):u},setState:function(e){u=r.assign({},u,e)},setFleetContext:function(e,t){var n=r.assign({},u.fleets);n[e]=r.assign({name:e},n[e],t),d.setState({fleets:n})},setEnvContext:function(e,t,n){var s=d.getFleetContext(e),i=r.assign({},s.envs);i[t]=r.assign({name:t},i[t],n),d.setFleetContext(e,{envs:i})},setRelContext:function(e,t,n,s){var i=d.getEnvContext(e,t),o=r.assign({},i.rels);o[n]=r.assign({name:n},o[n],s),d.setEnvContext(e,t,{rels:o})},setContext:function(e,t){e.fleetName?e.envName?e.relName?d.setRelContext(e.fleetName,e.envName,e.relName,t):d.setEnvContext(e.fleetName,e.envName,t):d.setFleetContext(e.fleetName,t):d.setState(t)}}},function(e,t,n){"use strict";var r=n(1),s=r.mkViewFactory("div"),i=r.mkViewFactory("p");e.exports=r.mkViewClass("ErrorMsg",{propTypes:function(){return{title:r.propTypes.string,msg:r.propTypes.string}},render:function(){return s("ui warning message",s("header",this.props.title),i({},this.props.msg))}})},function(e,t,n){e.exports.Dispatcher=n(11)},function(e,t,n){"use strict";function r(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}var s=n(12),i=1,o="ID_";r.prototype.register=function(e){var t=o+i++;return this.$Dispatcher_callbacks[t]=e,t},r.prototype.unregister=function(e){s(this.$Dispatcher_callbacks[e],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",e),delete this.$Dispatcher_callbacks[e]},r.prototype.waitFor=function(e){s(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var t=0;t<e.length;t++){var n=e[t];this.$Dispatcher_isPending[n]?s(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(s(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},r.prototype.dispatch=function(e){s(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(e);try{for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]||this.$Dispatcher_invokeCallback(t)}finally{this.$Dispatcher_stopDispatching()}},r.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},r.prototype.$Dispatcher_invokeCallback=function(e){this.$Dispatcher_isPending[e]=!0,this.$Dispatcher_callbacks[e](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[e]=!0},r.prototype.$Dispatcher_startDispatching=function(e){for(var t in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[t]=!1,this.$Dispatcher_isHandled[t]=!1;this.$Dispatcher_pendingPayload=e,this.$Dispatcher_isDispatching=!0},r.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1},e.exports=r},function(e){"use strict";var t=function(e,t,n,r,s,i,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,i,o,a],d=0;l=new Error("Invariant Violation: "+t.replace(/%s/g,function(){return u[d++]}))}throw l.framesToPop=1,l}};e.exports=t},function(e){"use strict";function t(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e){for(var n,r,s=t(e),i=1;i<arguments.length;i++){n=arguments[i],r=Object.keys(Object(n));for(var o=0;o<r.length;o++)s[r[o]]=n[r[o]]}return s}},function(e){var t=function(e){function t(t,n){!n&&(n=(new Date).getTime()),n instanceof Date&&(n=n.getTime()),t instanceof Date&&(t=t.getTime());var r,s,i,o=n-t;for(s=-1,i=u.length;++s<i;)if(r=u[s],o<r[0])return r[2]==e?r[1]:Math.round(o/r[2])+" "+r[1]}var n=1e3,r=60*n,s=60*r,i=24*s,o=7*i,a=365*i,l=a/12,u=[[.7*r,"just now"],[1.5*r,"a minute ago"],[60*r,"minutes ago",r],[1.5*s,"an hour ago"],[i,"hours ago",s],[2*i,"yesterday"],[7*i,"days ago",i],[1.5*o,"a week ago"],[l,"weeks ago",o],[1.5*l,"a month ago"],[a,"months ago",l],[1.5*a,"a year ago"],[Number.MAX_VALUE,"years ago",a]];return t}();"undefined"!=typeof e&&e.exports&&(e.exports=t)},function(e,t,n){"use strict";function r(e,t,n,r,s){i.dispatch(o.assign({type:e,fleetName:t,envName:n,relName:r},s))}var s=n(6),i=n(7),o=n(1);e.exports={unloadRel:function(e,t,n,i,o){r("unloadRelAttempted",t,n,i);var a=[];o.forEach(function(e){e!==i&&a.push(e)}),s.putResource(e,"environments/"+n,{releases:o},function(e,s){s?r("unloadRelFailed",t,n,i,{error:s}):r("unloadRelSucceeded",t,n,i)})},hideUnloadRelError:function(e,t,n){r("unloadRelErrorHidden",e,t,n)},activateRel:function(e,t,n,i){r("activateRelAttempted",t,n,i),s.putResource(e,"environments/"+n,{release:i},function(e,s){s?r("activateRelFailed",t,n,i,{error:s}):r("activateRelSucceeded",t,n,i)})},hideActivateRelError:function(e,t,n){r("activateRelErrorHidden",e,t,n)}}},function(e,t,n){"use strict";var r=n(3),s=n(4),i=n(5),o=e.exports={checkState:function(e){e.isLoggedIn&&(e.fleets?Object.keys(e.fleets).forEach(function(t){o.checkFleet(e,e.fleets[t])}):e.isFleetListPending||e.fleetListError||r.requestFleetList())},checkFleet:function(e,t){t.token?(t.envs?Object.keys(t.envs).forEach(function(e){o.checkEnv(t,t.envs[e])}):t.isEnvListPending||t.envListError||i.requestEnvList(t.token,t.name),t.rels||t.isRelListPending||t.relListError||i.requestRelList(t.token,t.name)):t.isTokenPending||t.tokenError||i.requestToken(t.name)},checkEnv:function(e,t){t.rels||t.isDataPending||t.dataError||s.requestData(e.token,e.name,t.name)}}},function(e){"use strict";e.exports={handle_userNameChanged:function(e,t){return{userName:t.userName}},handle_passwordChanged:function(e,t){return{password:t.password}},handle_logInAttempted:function(){return{isLogInPending:!0,logInError:null,isLoggedIn:!1}},handle_logInSucceeded:function(){return{isLogInPending:!1,logInError:null,isLoggedIn:!0}},handle_logInFailed:function(e,t){return{isLogInPending:!1,logInError:t.error,isLoggedIn:!1}},handle_logInErrorHidden:function(){return{logInError:null}},handle_loggedOut:function(){return{isLogInPending:!1,logInError:null,isLoggedIn:!1,isFleetListPending:!1,fleetListError:null,fleets:null,selectedFleetName:null,relQuery:null}},handle_fleetListRequested:function(){return{isFleetListPending:!0,fleetListError:null,fleets:null}},handle_fleetListReceived:function(e,t){var n=t.fleetList||{},r={};return n.forEach(function(e){r[e]={name:e}}),{isFleetListPending:!1,fleetListError:null,fleets:r}},handle_fleetListDenied:function(e,t){return{isFleetListPending:!1,fleetListError:t.error,fleets:null}},handle_fleetListErrorHidden:function(){return{fleetListError:null}},handle_fleetSelected:function(e,t){return{selectedFleetName:t.selectedFleetName}},handle_relQueryChanged:function(e,t){return{relQuery:t.relQuery}}}},function(e,t,n){"use strict";var r=n(1);e.exports={handle_dataRequested:function(){return{isDataPending:!0,dataError:null,rels:null}},handle_dataReceived:function(e,t){var n=t.data,s=Object.keys(n.releases||{}),i={};return s.forEach(function(e){var t=n.releases[e];i[e]={name:e,status:t.status,dateLoaded:r.parseDate(t.loaded),dateUpdated:r.parseDate(t.updated)}}),{status:n.status,activeRelName:n.release,certificate:n.certificate,dateCreated:r.parseDate(n.created),dateUpdated:r.parseDate(n.updated),wwwEndpoint:n.endpoints&&n.endpoints.www,adminEndpoint:n.endpoints&&n.endpoints.admin,sshAdminEndpoint:n.endpoints&&n.endpoints.adminssh,isDataPending:!1,dataError:null,rels:i}},handle_dataDenied:function(e,t){return{isDataPending:!1,dataError:t.error,rels:null}},handle_dataErrorHidden:function(){return{dataError:null}},handle_destroyFormOpened:function(){return{isDestroyFormOpen:!0}},handle_destroyFormClosed:function(){return{isDestroyFormOpen:!1}},handle_confirmNameChanged:function(e,t){return{confirmName:t.confirmName}},handle_destroyAttempted:function(){return{isDestroyPending:!0,destroyError:null,isDestroyed:!1}},handle_destroySucceeded:function(){return{isDestroyPending:!1,destroyError:null,isDestroyed:!0}},handle_destroyFailed:function(e,t){return{isDestroyPending:!1,destroyError:t.error,isDestroyed:!1}},handle_destroyErrorHidden:function(){return{destroyError:null}},handle_loadRelFormOpened:function(){return{isLoadRelFormOpen:!0}},handle_loadRelFormClosed:function(){return{isLoadRelFormOpen:!1}},handle_newRelNameChanged:function(e,t){return{newRelName:t.newRelName}},handle_loadRelAttempted:function(){return{isLoadRelPending:!0,loadRelError:null}},handle_loadRelSucceeded:function(){return{isLoadRelPending:!1,loadRelError:null}},handle_loadRelFailed:function(e,t){return{isLoadRelPending:!1,loadRelError:t.error}},handle_loadRelErrorHidden:function(){return{loadRelError:null}},handle_relSelected:function(e,t){return{selectedRelName:t.selectedRelName}}}},function(e,t,n){"use strict";var r=n(1);e.exports={handle_tokenRequested:function(){return{isTokenPending:!0,tokenError:null,token:null}},handle_tokenReceived:function(e,t){return{isTokenPending:!1,tokenError:null,token:t.token}},handle_tokenDenied:function(e,t){return{isTokenPending:!1,tokenError:t.error,token:null}},handle_tokenErrorHidden:function(){return{tokenError:null}},handle_envListRequested:function(){return{isEnvListPending:!0,envListError:null,envs:null}},handle_envListReceived:function(e,t){var n=Object.keys(t.envList||{}),s={};return n.forEach(function(e){var n=t.envList[e];s[e]={name:e,status:n.status,activeRelName:n.release,certificate:n.certificate,dateCreated:r.parseDate(n.created),dateUpdated:r.parseDate(n.updated)}}),{isEnvListPending:!1,envListError:null,envs:s}},handle_envListDenied:function(e,t){return{isEnvListPending:!1,envListError:t.error,envs:null}},handle_envListErrorHidden:function(){return{envListError:null}},handle_relListRequested:function(){return{isRelListPending:!0,relListError:null,rels:null}},handle_relListReceived:function(e,t){var n=Object.keys(t.relList||{}),s={};return n.forEach(function(e){var n=t.relList[e];s[e]={name:e,status:n.status,dateModified:r.parseDate(n.modified),message:n.message}}),{isRelListPending:!1,relListError:null,rels:s}},handle_relListDenied:function(e,t){return{isRelListPending:!1,relListError:t.error,rels:null}},handle_relListErrorHidden:function(){return{relListError:null}},handle_createEnvFormOpened:function(){return{isCreateEnvFormOpen:!0}},handle_createEnvFormClosed:function(){return{isCreateEnvFormOpen:!1}},handle_newEnvNameChanged:function(e,t){return{newEnvName:t.newEnvName}},handle_creatingEnvAttempted:function(){return{isCreatingEnv:!0,createEnvError:null}},handle_creatingEnvSucceeded:function(){return{isCreatingEnv:!1,createEnvError:null}},handle_creatingEnvFailed:function(e,t){return{isCreatingEnv:!1,createEnvError:t.error}},handle_createEnvErrorHidden:function(){return{createEnvError:null}},handle_envSelected:function(e,t){return{selectedEnvName:t.selectedEnvName}}}},function(e){"use strict";e.exports={handle_unloadRelAttempted:function(){return{isUnloadPending:!0,unloadError:null,isUnloaded:!1}},handle_unloadRelSucceeded:function(){return{isUnloadPending:!1,unloadError:null,isUnloaded:!0}},handle_unloadRelFailed:function(e,t){return{isUnloadPending:!1,unloadError:t.error,isUnloaded:!1}},handle_unloadRelErrorHidden:function(){return{unloadError:null}},handle_activateRelAttempted:function(){return{isActivatePending:!0,activateError:null,isActivated:!1}},handle_activateRelSucceeded:function(){return{isActivatePending:!1,activateError:null,isActivated:!0}},handle_activateRelFailed:function(e,t){return{isActivatePending:!1,activateError:t.error,isActivated:!1}},handle_activateRelErrorHidden:function(){return{activateError:null}}}},function(e){"use strict";var t=e.exports={sendRequest:function(e,t,n,r,s){s=s||{};var i=new XMLHttpRequest;return i.open(e,t,!0),Object.keys(s.headers||{}).forEach(function(e){i.setRequestHeader(e,s.headers[e])}),i.onreadystatechange=s.onChangeState||function(){return 4===i.readyState?i.status>=200&&i.status<400?r(i.responseText):i.status>=400&&i.status<500?r(null,{type:"clientError",status:i.status,response:i.responseText.trim()}):i.status>=500?r(null,{type:"serverError",status:i.status,response:i.responseText.trim()}):r(null,{type:"unknownError",status:i.status,response:i.responseText.trim()}):void 0},i.timeout=s.timeout||6e4,i.ontimeout=s.onTimeout||function(){return r(null,{type:"timeout"})},n&&n.length?i.send(n):i.send(),i},addQuery:function(e,t){var n=-1===e.indexOf("?")?"?":"&";return Object.keys(t).forEach(function(r){null!==t[r]&&void 0!==t[r]&&(e+=n+r+"="+t[r],n="&")}),e},addHeader:function(e,t,n){return e=e||{},e.headers=e.headers||{},e.headers[t]=n,e},addAuthHeader:function(e,n){return t.addHeader(e,"Authorization","Bearer "+n)},addJsonHeader:function(e){return t.addHeader(e,"Content-Type","application/json")},sendJsonRequest:function(e,n,r,s,i){return t.sendRequest(e,n,r?JSON.stringify(r):null,function(e,t){if(t)return s(null,t);if(!e||!e.length)return s();var n;try{n=JSON.parse(e)}catch(r){return s(null,{type:"unknownError",response:e})}return s(n)},r?t.addJsonHeader(i):i)},getResource:function(e,n,r){return t.sendJsonRequest("GET",e,null,n,r)},postResource:function(e,n,r,s){return t.sendJsonRequest("POST",e,n,r,s)},deleteResource:function(e,n,r){return t.sendJsonRequest("DELETE",e,null,n,r)},putResource:function(e,n,r,s){return t.sendJsonRequest("PUT",e,n,r,s)}}},function(e,t,n){"use strict";var r=n(8),s=n(1),i=n(3),o=s.mkViewFactory(n(23)),a=s.mkViewFactory(n(24)),l=s.mkViewFactory("div"),u=s.mkViewFactory("em"),d=s.mkViewFactory("i"),p=s.mkViewFactory("img");e.exports=s.mkViewClass("AppView",{getInitialState:function(){return r.getState()},componentDidMount:function(){r.subscribe(this.onUpdate)},componentWillUnmount:function(){r.unsubscribe(this.onUpdate)},onUpdate:function(e){this.setState(e)},renderLogo:function(){return p({key:"logo",className:"ui tiny image",height:"66px",src:"/_images/fleet_transparent.png"})},renderFleetButton:function(){var e=Object.keys(this.state.fleets),t=1!==e.length,n=this.state.selectedFleetName||e.length&&e[0];return t?l("ui right floated simple dropdown button",d("anchor icon"),u({},n),d("dropdown icon"),l("menu",e.map(function(e){var t=e===n;return t?null:l({key:"f-"+e,className:"item",onClick:function(){i.selectFleet(e)}},d("no icon"),u({},e))}.bind(this)))):null},renderLogOutButton:function(){return this.state.isLoggedIn?l({className:"ui right floated button",onClick:function(){i.logOut()}},"Log out"):null},render:function(){return l("ui stackable page grid",l("sixteen wide column",l("ui basic vertical segment",this.renderLogOutButton(),this.state.fleets?this.renderFleetButton():null,this.renderLogo())),this.state.isLoggedIn?null:l("centered ten wide column",o({userName:this.state.userName,password:this.state.password,isLogInPending:this.state.isLogInPending,logInError:this.state.logInError,isLoggedIn:this.state.isLoggedIn})),this.state.isLoggedIn?l("sixteen wide column",a({isFleetListPending:this.state.isFleetListPending,fleetListError:this.state.fleetListError,fleets:this.state.fleets,relQuery:this.state.relQuery})):null)}})},function(e,t,n){"use strict";var r=n(1),s=n(3),i=r.mkViewFactory(n(2)),o=r.mkViewFactory("div"),a=r.mkViewFactory("form"),l=r.mkViewFactory("input"),u=r.mkViewFactory("label");e.exports=r.mkViewClass("LogInForm",{propTypes:function(){return{userName:r.propTypes.string,password:r.propTypes.string,isLogInPending:r.propTypes.bool,logInError:r.propTypes.object}},isValid:function(){return!this.props.isLogInPending&&this.props.userName&&this.props.userName.length&&this.props.password&&this.props.password.length},submit:function(e){e.preventDefault(),this.isValid()&&s.logIn(this.props.userName,this.props.password)},renderUserNameField:function(){return o("field"+(this.props.isLogInPending?" disabled":""),u({},"User name"),l({className:"ui input",type:"text",placeholder:"Required",value:this.props.userName,readOnly:this.props.isLogInPending,autoFocus:!0,onChange:function(e){s.changeUserName(e.target.value)}}))},renderPasswordField:function(){return o("field"+(this.props.isLogInPending?" disabled":""),u({},"Password"),l({className:"ui input",type:"password",placeholder:"Required",value:this.props.password,readOnly:this.props.isLogInPending,onChange:function(e){s.changePassword(e.target.value)}}))},renderLogInButton:function(){return o("ui stackable right aligned grid",o("eight wide column",l({className:"ui fluid blue button"+(this.isValid()?"":" disabled"),type:"submit",value:"Log in"})))},render:function(){return o({},a({className:"ui form blue segment"+(this.props.logInError?" top attached":""),onSubmit:this.submit},o("ui centered header","Log in"),this.props.isLogInPending?o("ui active loader"):null,this.renderUserNameField(),this.renderPasswordField(),this.renderLogInButton()),this.props.logInError?i({title:"Failed to log in",msg:"Please try again, or contact support.",error:403===this.props.logInError.status?null:this.props.logInError,onClose:function(){s.hideLogInError()}}):null)}})},function(e,t,n){"use strict";var r=n(1),s=n(3),i=r.mkViewFactory(n(2)),o=r.mkViewFactory(n(28)),a=r.mkViewFactory(n(9)),l=r.mkViewFactory("a"),u=r.mkViewFactory("div"),d=r.mkViewFactory("em");e.exports=r.mkViewClass("TabularView",{propTypes:function(){return{isFleetListPending:r.propTypes.bool,fleetListError:r.propTypes.object,fleets:r.propTypes.object,relQuery:r.propTypes.string}},renderFleetTab:function(e,t){return l({key:"f-"+e,className:"item"+(t?" active":""),onClick:function(){t||s.selectFleet(e)}},d({},e))},renderFleets:function(){var e=Object.keys(this.props.fleets),t=1===e.length,n=this.props.selectedFleetName||e.length&&e[0];return u({},e.length?null:a({title:"No fleets available",msg:"Please contact support."}),t?null:u("ui large top attached tabular menu",e.map(function(e){return this.renderFleetTab(e,e===n)}.bind(this))),e.length?u("ui bottom tall stacked segment"+(t?"":" attached"),o(this.props.fleets[n])):null)},render:function(){return u({},this.props.isFleetListPending?u("ui active loader"):null,this.props.fleetListError?i({title:"Failed to receive fleet list",isAuto:!0,error:this.props.fleetListError,onClose:function(){s.hideFleetListError()}}):null,this.props.fleets?this.renderFleets():null)}})},function(e,t,n){"use strict";var r=n(1),s=n(5),i=n(4),o=r.mkViewFactory(n(26)),a=r.mkViewFactory(n(2)),l=r.mkViewFactory(n(27)),u=(r.mkViewFactory(n(30)),r.mkViewFactory(n(9))),d=r.mkViewFactory("a"),p=r.mkViewFactory("code"),c=r.mkViewFactory("div"),h=r.mkViewFactory("em"),m=r.mkViewFactory("table"),f=r.mkViewFactory("tbody"),g=r.mkViewFactory("td"),v=r.mkViewFactory("tr");e.exports=r.mkViewClass("EnvView",{propTypes:function(){return{fleetToken:r.propTypes.string,fleetName:r.propTypes.string,fleetRels:r.propTypes.object,isSelected:r.propTypes.bool,name:r.propTypes.string,status:r.propTypes.string,activeRelName:r.propTypes.string,certificate:r.propTypes.string,dateCreated:r.propTypes.date,dateUpdated:r.propTypes.date,wwwEndpoint:r.propTypes.string,adminEndpoint:r.propTypes.string,adminSshEndpoint:r.propTypes.string,rels:r.propTypes.object,isDataPending:r.propTypes.bool,dataError:r.propTypes.object,isDestroyFormOpen:r.propTypes.bool,isDestroyPending:r.propTypes.bool,destroyError:r.propTypes.object,isDestroyed:r.propTypes.bool,isLoadRelFormOpen:r.propTypes.bool,newRelName:r.propTypes.string,isLoadRelPending:r.propTypes.bool,loadRelError:r.propTypes.object,selectedRelName:r.propTypes.string}},renderLink:function(e,t){return t?d({className:"item",href:e+"://"+t,target:"_blank"},t):"—"},renderDataRow:function(e,t){return v({},g("five wide",e),g({},t))},renderData:function(){return m("ui basic compact unstackable definition table",f({},this.renderDataRow("Status",r.formatStatus(this.props.status)),this.renderDataRow("Active release",this.props.activeRelName?this.props.activeRelName:"—"),this.renderDataRow("Certificate",this.props.certificate),this.renderDataRow("Created",r.formatDate(this.props.dateCreated)),this.renderDataRow("Updated",r.formatDate(this.props.dateUpdated)),this.renderDataRow("WWW",this.renderLink("http",this.props.wwwEndpoint)),this.renderDataRow("Admin",this.renderLink("http",this.props.adminEndpoint)),this.renderDataRow("Admin SSH",this.renderLink("ssh",this.props.adminSshEndpoint))))},renderLoadRelButton:function(e){return c({className:"ui large fluid basic blue button"+(e?"":" disabled"),onClick:function(){i.openLoadRelForm(this.props.fleetName,this.props.name)}.bind(this)},"Load new release")},renderRels:function(){var e=Object.keys(this.props.rels);return e.length?c("ui divided selection list",e.map(function(e){var t=this.props.fleetRels[e],n=this.props.rels[e],s="RUNNING"===n.status,o="ACTIVE"===n.status,a=e===this.props.selectedRelName;return c({key:"r-"+e,className:"item"+(a?" active":""),onClick:function(){i.selectRel(this.props.fleetName,this.props.name,e)}.bind(this)},c("ui right floated label",p({},e)),c("ui avatar image",s||o?null:c("ui small indeterminate active loader")),c("content",c("header",t.message),c("description",r.formatDate(t.dateModified))))}.bind(this))):u({title:"No releases loaded",msg:"Please load a new release."})},renderDestroyButton:function(e){return c({className:"ui large fluid basic red button"+(e?"":" disabled"),onClick:function(){i.openDestroyForm(this.props.fleetName,this.props.name)}.bind(this)},"Destroy environment")},render:function(){var e=!this.props.isDataPending&&this.props.rels&&"RUNNING"===this.props.status;return this.props.isSelected?c("ui teal segment",c("ui stackable grid",c("sixteen wide column",c({className:"linked ui large centered header",onClick:function(){s.selectEnv(this.props.fleetName,null)}.bind(this)},h({},this.props.name)),this.renderData()),this.props.dataError?c("centered ten wide column",a({title:"Failed to receive data",isAuto:!0,error:this.props.dataError,onClose:function(){i.hideDataError(this.props.fleetName,this.props.name)}.bind(this)})):null,c("centered ten wide column",e&&this.props.isLoadRelFormOpen?l({fleetToken:this.props.fleetToken,fleetName:this.props.fleetName,fleetRels:this.props.fleetRels,name:this.props.name,rels:this.props.rels,newRelName:this.props.newRelName,isLoadRelPending:this.props.isLoadRelPending,loadRelError:this.props.loadRelError}):this.renderLoadRelButton(e)),c("sixteen wide column",c("ui header","Loaded releases"),this.props.isDataPending?c("ui active loader"):null,this.props.rels?this.renderRels():null),c("ui divider"),c("centered ten wide column",e&&this.props.isDestroyFormOpen?o({fleetToken:this.props.fleetToken,fleetName:this.props.fleetName,name:this.props.name,confirmName:this.props.confirmName,isDestroyPending:this.props.isDestroyPending,destroyError:this.props.destroyError}):this.renderDestroyButton(e)))):c({className:"ui big fluid basic teal button",onClick:function(){s.selectEnv(this.props.fleetName,this.props.name)}.bind(this)},h({},this.props.name))}})},function(e,t,n){"use strict";var r=n(1),s=n(4),i=r.mkViewFactory(n(2)),o=r.mkViewFactory("div"),a=r.mkViewFactory("em"),l=r.mkViewFactory("form"),u=r.mkViewFactory("input"),d=r.mkViewFactory("label"),p=r.mkViewFactory("p"),c=r.mkViewFactory("strong");e.exports=r.mkViewClass("LoadRelForm",{propTypes:function(){return{fleetToken:r.propTypes.string,fleetName:r.propTypes.string,name:r.propTypes.string,confirmName:r.propTypes.string,isDestroyPending:r.propTypes.bool,destroyError:r.propTypes.object}},isValid:function(){return!this.props.isDestroyPending&&this.props.name===this.props.confirmName},submit:function(e){e.preventDefault(),this.isValid()&&s.destroy(this.props.fleetToken,this.props.fleetName,this.props.name)},cancel:function(e){e.key&&"Escape"!==e.key||s.closeDestroyForm(this.props.fleetName,this.props.name)},renderConfirmNameField:function(){return o("field"+(this.props.isDestroyPending?" disabled":""),d({},"Environment name"),u({className:"ui input",type:"text",placeholder:"Required",value:this.props.confirmName,readOnly:this.props.isDestroyPending,autoFocus:!0,onChange:function(e){s.changeConfirmName(this.props.fleetName,this.props.name,e.target.value)}.bind(this)}))},renderDestroyButton:function(){return u({className:"ui red button"+(this.isValid()?"":" disabled"),type:"submit",value:"Destroy"})},renderCancelButton:function(){return o({className:"ui button",onClick:this.cancel},"Cancel")},renderButtons:function(){return o("ui stackable right aligned grid",o("eight wide column",o("ui two fluid buttons",this.renderCancelButton(),this.renderDestroyButton())))
},render:function(){return o({},l({className:"ui form red segment"+(this.props.destroyError?" top attached":""),onSubmit:this.submit,onKeyUp:this.cancel},o("ui centered header","Destroy environment"),this.props.isDestroyPending?o("ui active loader"):null,p({},"This action will deactivate and unload all releases loaded in the ",c({},a({},this.props.name))," environment, and remove the environment from the ",c({},a({},this.props.fleetName))," fleet.  This cannot be undone."),p({},"Please enter the name of the environment to confirm."),this.renderConfirmNameField(),this.renderButtons()),this.props.destroyError?i({title:"Failed to destroy environment",error:this.props.destroyError,onClose:function(){s.hideDestroyError(this.props.fleetName,this.props.name)}.bind(this)}):null)}})},function(e,t,n){"use strict";var r=n(1),s=n(4),i=r.mkViewFactory(n(2)),o=r.mkViewFactory("code"),a=r.mkViewFactory("div"),l=r.mkViewFactory("em"),u=r.mkViewFactory("form"),d=r.mkViewFactory("input"),p=r.mkViewFactory("label"),c=r.mkViewFactory("p"),h=r.mkViewFactory("strong");e.exports=r.mkViewClass("LoadRelForm",{propTypes:function(){return{fleetToken:r.propTypes.string,fleetName:r.propTypes.string,fleetRels:r.propTypes.object,name:r.propTypes.string,rels:r.propTypes.object,newRelName:r.propTypes.string,isLoadRelPending:r.propTypes.bool,loadRelError:r.propTypes.object}},isValid:function(){return!this.props.isLoadRelPending&&this.props.newRelName&&this.props.newRelName.length},submit:function(e){e.preventDefault(),this.isValid()&&s.loadRel(this.props.fleetToken,this.props.fleetName,this.props.name,Object.keys(this.props.rels),this.props.newRelName)},cancel:function(e){e.key&&"Escape"!==e.key||s.closeLoadRelForm(this.props.fleetName,this.props.name)},renderLoadButton:function(){return d({className:"ui blue submit button"+(this.isValid()?"":" disabled"),type:"submit",value:"Load"})},renderCancelButton:function(){return a({className:"ui button",onClick:this.cancel},"Cancel")},renderButtons:function(){return a("ui stackable right aligned grid",a("eight wide column",a("ui two fluid buttons",this.renderCancelButton(),this.renderLoadButton())))},renderRels:function(){var e=Object.keys(this.props.fleetRels);return a("field",p({},"Available releases"),a("ui divided selection list",e.map(function(e){var t=this.props.fleetRels[e],n="AVAILABLE"===t.status,i=n&&!(e in this.props.rels),l=e===this.props.newRelName;return a({key:"r-"+e,className:"item"+(i?"":" disabled")+(l?" active":""),onClick:function(){s.changeNewRelName(this.props.fleetName,this.props.name,e)}.bind(this)},a("ui right floated label"+(i?"":" disabled"),o({},e)),a("ui avatar image",n?null:a("ui small indeterminate active loader")),a("content",a("header"+(i?"":" disabled"),t.message),a("description",r.formatDate(t.dateModified))))}.bind(this))))},render:function(){return a({},u({className:"ui form blue segment"+(this.props.loadRelError?" top attached":""),onSubmit:this.submit,onKeyUp:this.cancel},a("ui centered header","Load new release"),this.props.isLoadRelPending?a("ui active loader"):null,c({},"Please select a new release to load in the ",h({},l({},this.props.name))," environment."),this.renderRels(),this.renderButtons()),this.props.loadRelError?i({title:"Failed to load release",error:this.props.loadRelError,onClose:function(){s.hideLoadRelError(this.props.fleetName,this.props.name)}.bind(this)}):null)}})},function(e,t,n){"use strict";var r=n(1),s=n(5),i=r.mkViewFactory(n(29)),o=r.mkViewFactory(n(25)),a=r.mkViewFactory(n(2)),l=r.mkViewFactory(n(9)),u=r.mkViewFactory("div");e.exports=r.mkViewClass("FleetView",{propTypes:function(){return{name:r.propTypes.string,isTokenPending:r.propTypes.bool,tokenError:r.propTypes.object,token:r.propTypes.string,isEnvListPending:r.propTypes.bool,envListError:r.propTypes.object,envs:r.propTypes.object,isRelListPending:r.propTypes.bool,relListError:r.propTypes.object,rels:r.propTypes.object,isCreateEnvFormOpen:r.propTypes.bool,newEnvName:r.propTypes.string,isCreatingEnv:r.propTypes.bool,createEnvError:r.propTypes.object,selectedEnvName:r.propTypes.string}},renderCreateEnvButton:function(){return u({className:"ui large fluid basic teal button",onClick:function(){s.openCreateEnvForm(this.props.name)}.bind(this)},"Create new environment")},renderEnvs:function(){var e=Object.keys(this.props.envs);return e.length?e.map(function(e){var t=e===this.props.selectedEnvName;return o(r.assign({key:"e-"+e,fleetToken:this.props.token,fleetName:this.props.name,fleetRels:this.props.rels,isSelected:t},this.props.envs[e]))}.bind(this)):l({title:"No environments created",msg:"Please create a new environment."})},render:function(){var e=this.props.isTokenPending||this.props.isEnvListPending||this.props.isRelListPending;return u("ui stackable grid",u("centered ten wide column",this.props.isCreateEnvFormOpen?i({token:this.props.token,name:this.props.name,envs:this.props.envs,newEnvName:this.props.newEnvName,isCreatingEnv:this.props.isCreatingEnv,createEnvError:this.props.createEnvError}):this.renderCreateEnvButton()),this.props.tokenError?u("centered ten wide column",a({title:"Failed to receive token",isAuto:!0,error:this.props.tokenError,onClose:function(){s.hideTokenError(this.props.name)}.bind(this)})):null,this.props.envListError?u("centered ten wide column",a({title:"Failed to receive environment list",isAuto:!0,error:this.props.envListError,onClose:function(){s.hideEnvListError(this.props.name)}.bind(this)})):null,this.props.relListError?u("centered ten wide column",a({title:"Failed to receive release list",isAuto:!0,error:this.props.relListError,onClose:function(){s.hideRelListError(this.props.name)}.bind(this)})):null,u("sixteen wide column",u("ui large header","Environments"),e?u("ui active loader"):null,this.props.envs&&this.props.rels?this.renderEnvs():null))}})},function(e,t,n){"use strict";var r=n(1),s=n(5),i=r.mkViewFactory(n(2)),o=r.mkViewFactory("div"),a=r.mkViewFactory("em"),l=r.mkViewFactory("form"),u=r.mkViewFactory("input"),d=r.mkViewFactory("label"),p=r.mkViewFactory("p"),c=r.mkViewFactory("strong");e.exports=r.mkViewClass("CreateEnvForm",{propTypes:function(){return{token:r.propTypes.string,name:r.propTypes.string,envs:r.propTypes.object,newEnvName:r.propTypes.string,isCreatingEnv:r.propTypes.bool,createEnvError:r.propTypes.object}},isValid:function(){return!this.props.isCreatingEnv&&this.props.newEnvName&&this.props.newEnvName.length&&this.props.envs&&Object.keys(this.props.envs).every(function(e){return e!==this.props.newEnvName}.bind(this))},submit:function(e){e.preventDefault(),this.isValid()&&s.createEnv(this.props.token,this.props.name,this.props.newEnvName)},cancel:function(e){e.key&&"Escape"!==e.key||s.closeCreateEnvForm(this.props.name)},renderNewEnvNameField:function(){return o("field"+(this.props.isCreatingEnv?" disabled":""),d({},"New environment name"),u({className:"ui input",type:"text",placeholder:"Required",value:this.props.newEnvName,readOnly:this.props.isCreatingEnv,autoFocus:!0,onChange:function(e){s.changeNewEnvName(this.props.name,e.target.value)}.bind(this)}))},renderCreateButton:function(){return u({className:"ui teal button"+(this.isValid()?"":" disabled"),type:"submit",value:"Create"})},renderCancelButton:function(){return o({className:"ui button",onClick:this.cancel},"Cancel")},renderButtons:function(){return o("ui stackable right aligned grid",o("eight wide column",o("ui two fluid buttons",this.renderCancelButton(),this.renderCreateButton())))},render:function(){return o({},l({className:"ui form teal segment"+(this.props.createEnvError?" top attached":""),onSubmit:this.submit,onKeyUp:this.cancel},o("ui centered header","Create new environment"),this.props.isCreatingEnv?o("ui active loader"):null,p({},"This action will add a new environment to the ",c({},a({},this.props.name))," fleet.  This can take up to 30 minutes."),p({},"Please enter a unique name for the new environment."),this.renderNewEnvNameField(),this.renderButtons()),this.props.createEnvError?i({title:"Failed to create environment",error:this.props.createEnvError,onClose:function(){s.hideCreateEnvError(this.props.name)}.bind(this)}):null)}})},function(e,t,n){"use strict";var r=n(1),s=(n(15),r.mkViewFactory(n(2)),r.mkViewFactory("div"));e.exports=r.mkViewClass("RelView",{propTypes:function(){return{fleetToken:r.propTypes.string,fleetName:r.propTypes.string,envName:r.propTypes.string,isSelected:r.propTypes.bool,name:r.propTypes.string,status:r.propTypes.string,isUnloadPending:r.propTypes.bool,unloadError:r.propTypes.object,isUnloaded:r.propTypes.bool,isActivatePending:r.propTypes.bool,activateError:r.propTypes.object,isActivated:r.propTypes.bool}},render:function(){return s({})}})}]);